<template>
  <div class="">
    <h1>{{ title }}</h1>
    <BarChart :entries="entries" />
  </div>
</template>

<script>
import BarChart from './BarChart'

const datasheet = [
  ['2009/01', 1.38, 65.41, 27.03, 2.57, 2.92, 0],
  ['2009/02', 1.52, 64.43, 27.85, 2.59, 2.95, 0],
  ['2009/03', 1.73, 62.52, 29.4, 2.73, 2.94, 0],
  ['2009/04', 2.07, 61.88, 29.67, 2.75, 2.96, 0],
  ['2009/05', 2.42, 62.09, 28.75, 2.65, 3.23, 0],
  ['2009/06', 2.82, 59.49, 30.33, 2.93, 3.36, 0],
  ['2009/07', 3.01, 60.11, 30.5, 3.02, 2.64, 0],
  ['2009/08', 3.38, 58.69, 31.28, 3.25, 2.67, 0],
  ['2009/09', 3.69, 58.37, 31.34, 3.28, 2.62, 0],
  ['2009/10', 4.17, 57.96, 31.82, 3.47, 1.88, 0],
  ['2009/11', 4.66, 56.57, 32.21, 3.67, 2.02, 0],
  ['2009/12', 5.45, 55.72, 31.97, 3.48, 2.06, 0],
  ['2010/01', 6.04, 55.25, 31.64, 3.76, 2, 0],
  ['2010/02', 6.72, 54.5, 31.82, 4.08, 1.97, 0],
  ['2010/03', 7.29, 54.44, 31.27, 4.16, 1.97, 0],
  ['2010/04', 8.06, 53.26, 31.74, 4.23, 1.82, 0],
  ['2010/05', 8.61, 52.77, 31.64, 4.14, 1.96, 0],
  ['2010/06', 9.24, 52.86, 31.15, 4.07, 1.91, 0],
  ['2010/07', 9.88, 52.68, 30.69, 4.09, 1.91, 0],
  ['2010/08', 10.76, 51.34, 31.09, 4.23, 1.88, 0],
  ['2010/09', 11.54, 49.87, 31.5, 4.42, 2.03, 0],
  ['2010/10', 12.39, 49.21, 31.24, 4.56, 2, 0],
  ['2010/11', 13.35, 48.16, 31.17, 4.7, 2.01, 0],
  ['2010/12', 14.85, 46.94, 30.76, 4.79, 2.07, 0],
  ['2011/01', 15.68, 46, 30.68, 5.09, 2, 0],
  ['2011/02', 16.54, 45.44, 30.37, 5.08, 2, 0],
  ['2011/03', 17.37, 45.11, 29.98, 5.02, 1.97, 0],
  ['2011/04', 18.29, 44.52, 29.67, 5.04, 1.91, 0],
  ['2011/05', 19.36, 43.87, 29.29, 5.01, 1.84, 0],
  ['2011/06', 20.65, 43.58, 28.34, 5.07, 1.74, 0],
  ['2011/07', 22.14, 42.45, 27.95, 5.17, 1.66, 0],
  ['2011/08', 23.16, 41.89, 27.49, 5.19, 1.67, 0],
  ['2011/09', 23.61, 41.66, 26.79, 5.6, 1.72, 0],
  ['2011/10', 25, 40.18, 26.39, 5.93, 1.81, 0],
  ['2011/11', 25.69, 40.63, 25.23, 5.92, 1.82, 0],
  ['2011/12', 27.27, 38.65, 25.27, 6.08, 1.98, 0],
  ['2012/01', 28.4, 37.45, 24.78, 6.62, 1.95, 0],
  ['2012/02', 29.84, 35.75, 24.88, 6.77, 2.02, 0],
  ['2012/03', 30.87, 34.81, 24.98, 6.72, 1.78, 0],
  ['2012/04', 31.23, 34.07, 24.87, 7.13, 1.72, 0],
  ['2012/05', 32.43, 32.12, 25.55, 7.09, 1.77, 0],
  ['2012/06', 32.76, 32.31, 24.56, 7, 1.77, 0],
  ['2012/07', 33.81, 32.04, 23.73, 7.12, 1.72, 0],
  ['2012/08', 34.68, 34, 23.65, 4.87, 1.65, 0],
  ['2012/09', 35.35, 33.9, 23.21, 5.09, 1.64, 0],
  ['2012/10', 35.93, 33.29, 23.15, 5.19, 1.65, 0],
  ['2012/11', 36.97, 32.46, 23.24, 5.1, 1.41, 0],
  ['2012/12', 37.82, 32.14, 22.84, 4.99, 1.28, 0],
  ['2013/01', 38.08, 32.25, 22.47, 5.12, 1.22, 0],
  ['2013/02', 38.83, 31.47, 22.5, 5.1, 1.24, 0],
  ['2013/03', 39.89, 30.95, 22.03, 4.93, 1.19, 0],
  ['2013/04', 40.88, 31.27, 21.09, 4.67, 1.02, 0],
  ['2013/05', 43.28, 29.21, 20.8, 4.57, 1.01, 0],
  ['2013/06', 44.81, 26.93, 21.17, 4.75, 1.04, 0],
  ['2013/07', 45.4, 26.05, 21.31, 4.8, 1.11, 0],
  ['2013/08', 45.03, 27.13, 20.42, 4.84, 1.17, 0],
  ['2013/09', 42.84, 30.25, 19.42, 4.91, 1.17, 0],
  ['2013/10', 42.45, 30.67, 19.16, 4.96, 1.17, 0],
  ['2013/11', 44.09, 29.03, 19.27, 4.64, 1.19, 0],
  ['2013/12', 46.63, 24.91, 20.3, 4.8, 1.33, 0],
  ['2014/01', 46.6, 24.65, 20.39, 5.09, 1.32, 0],
  ['2014/02', 46.69, 24.39, 20.78, 5, 1.38, 0],
  ['2014/03', 46.49, 24.44, 20.28, 5.12, 1.42, 0],
  ['2014/04', 48.08, 23.19, 20.13, 5.09, 1.43, 0],
  ['2014/05', 48.63, 22.6, 20.33, 5.04, 1.4, 0],
  ['2014/06', 48.72, 22.97, 19.63, 4.94, 1.43, 0],
  ['2014/07', 48.69, 23.52, 19.25, 4.89, 1.45, 0],
  ['2014/08', 49.88, 22.41, 19.29, 4.9, 1.54, 0],
  ['2014/09', 49.18, 22.62, 19.25, 5.15, 1.46, 0],
  ['2014/10', 51.31, 21.31, 18.77, 5.13, 1.4, 0],
  ['2014/11', 51.81, 21.65, 18.46, 4.95, 1.51, 0],
  ['2014/12', 49.66, 24.55, 18.01, 4.7, 1.5, 0],
  ['2015/01', 51.72, 21.16, 18.7, 4.94, 1.67, 0],
  ['2015/02', 52.27, 20.75, 18.22, 4.94, 1.72, 0],
  ['2015/03', 52.59, 19.73, 18.6, 5.43, 1.74, 0],
  ['2015/04', 52.96, 19.85, 18.27, 5.23, 1.73, 0],
  ['2015/05', 52.32, 19.9, 17.87, 6.31, 1.73, 0],
  ['2015/06', 52.82, 20.15, 17.59, 5.94, 1.71, 0],
  ['2015/07', 55.39, 18.86, 17.24, 4.7, 1.91, 0.05],
  ['2015/08', 56.51, 17.51, 17.16, 4.17, 1.86, 0.82],
  ['2015/09', 56.51, 17.11, 17.34, 4.27, 1.84, 1.06],
  ['2015/10', 56.95, 16.7, 16.95, 4.49, 1.87, 1.2],
  ['2015/11', 57.48, 16.79, 16.05, 4.71, 1.87, 1.31],
  ['2015/12', 56.89, 16.52, 15.6, 5.29, 2.2, 1.58],
  ['2016/01', 57.75, 15.95, 16, 4.6, 2.03, 1.82],
  ['2016/02', 58.98, 14.58, 16.06, 4.62, 2.07, 1.97],
  ['2016/03', 60.1, 13.67, 15.69, 4.62, 1.96, 2.15],
  ['2016/04', 60.47, 13.25, 15.62, 4.62, 1.92, 2.28],
  ['2016/05', 60.75, 12.45, 15.96, 4.77, 1.84, 2.49],
  ['2016/06', 61.73, 11.71, 15.55, 4.74, 1.73, 2.75],
  ['2016/07', 62.38, 10.73, 15.43, 4.59, 1.78, 3.04],
  ['2016/08', 62.3, 10.73, 15.31, 4.64, 1.79, 3.11],
  ['2016/09', 62.62, 10.73, 15, 4.75, 1.75, 3.01],
  ['2016/10', 63.19, 9.73, 14.59, 5.29, 2, 3.06],
  ['2016/11', 63.11, 9.64, 14.89, 5.19, 1.89, 3.19],
  ['2016/12', 62.66, 9.86, 14.95, 5.1, 1.8, 3.37],
  ['2017/01', 62.09, 10.49, 14.85, 5.28, 1.66, 3.58],
  ['2017/02', 62.95, 9.62, 14.81, 5.34, 1.6, 3.68],
  ['2017/03', 62.81, 9.39, 14.97, 5.28, 1.93, 3.64],
  ['2017/04', 63.45, 9, 14.53, 5.2, 2.08, 3.71],
  ['2017/05', 63.36, 9.2, 14.17, 5.25, 2.12, 3.74],
  ['2017/06', 63.23, 9.28, 13.98, 5.15, 2.22, 3.89],
  ['2017/07', 63.48, 9.03, 13.82, 5.04, 2.25, 3.95],
  ['2017/08', 63.58, 8.61, 13.73, 5.51, 2.36, 3.95],
  ['2017/09', 63.98, 8.21, 13.6, 5.46, 2.29, 4.3],
  ['2017/10', 63.6, 8.34, 13.04, 5.89, 2.23, 4.43],
  ['2017/11', 64.02, 8.47, 12.55, 6.08, 2.17, 4.29],
  ['2017/12', 64.72, 7.71, 12.21, 6.29, 2.31, 4.18],
  ['2018/01', 65.98, 7.28, 11.87, 5.87, 2.35, 4.11],
  ['2018/02', 67.49, 6.91, 11.54, 5.42, 2.24, 4.04],
  ['2018/03', 66.93, 7.02, 11.6, 5.37, 2.29, 4.18],
  ['2018/04', 66.17, 7.17, 11.78, 5.48, 2.33, 4.26],
  ['2018/05', 66.93, 6.97, 11.55, 5.48, 2.36, 4.15],
  ['2018/06', 66.87, 7.13, 11.44, 5.38, 2.47, 4.16],
  ['2018/07', 67.6, 6.97, 11.23, 5.01, 2.48, 4.19],
  ['2018/08', 67.66, 6.97, 10.96, 5.13, 2.48, 4.24],
  ['2018/09', 67.88, 6.45, 10.94, 5.58, 2.44, 4.36],
  ['2018/10', 69.64, 6.01, 10.14, 5.61, 2.29, 4.21],
  ['2018/11', 72.38, 5.38, 9.1, 5.06, 2.18, 4],
  ['2018/12', 70.95, 5.4, 10.05, 5.06, 2.38, 4.17],
  ['2019/01', 70.88, 5.74, 9.5, 5.15, 2.37, 4.41],
  ['2019/02', 71.58, 5.34, 8.72, 5.77, 2.41, 4.34],
  ['2019/03', 69.52, 5.44, 9.58, 6.46, 2.43, 4.56],
  ['2019/04', 69.55, 5.16, 9.78, 6.91, 2.38, 4.37],
  ['2019/05', 69.49, 5.09, 9.95, 6.94, 2.35, 4.32],
  ['2019/06', 70.71, 5.03, 9.76, 5.64, 2.45, 4.5],
  ['2019/07', 71.05, 5, 9.52, 5.41, 2.44, 4.6],
  ['2019/08', 71.15, 4.4, 9.52, 5.8, 2.46, 4.71],
  ['2019/09', 69.08, 4.99, 9.54, 7.41, 2.4, 4.71],
  ['2019/10', 68.91, 4.45, 9.25, 8.68, 2.28, 4.51],
  ['2019/11', 68.85, 3.66, 9.44, 9.18, 2.34, 4.58],
  ['2019/12', 68.84, 3.56, 9.44, 9.03, 2.49, 4.6],
  ['2020/01', 68.78, 3.7, 9.87, 8.64, 2.49, 4.71]
]

export default {
  components: { BarChart },
  data () {
    return {
      index: 0
    }
  },
  computed: {
    title () {
      return datasheet[this.index][0]
    },
    entries () {
      const [, chrome, ie, ff, safari, opera, edge] = datasheet[this.index]
      return [
        { id: 'chrome', title: 'Chrome', value: chrome, color: '#ffe53b' },
        { id: 'ie', title: 'IE', value: ie, color: '#41a7f0' },
        { id: 'ff', title: 'FireFox', value: ff, color: '#ffb81f' },
        { id: 'safari', title: 'Safari', value: safari, color: '#4766ff' },
        { id: 'opera', title: 'Opera', value: opera, color: '#ff6647' },
        { id: 'edge', title: 'Edge', value: edge, color: '#4757bf' }
      ]
    }
  },
  mounted () {
    const timer = window.setInterval(() => {
      this.index++
      if (this.index >= datasheet.length - 1) {
        window.clearInterval(timer)
      }
    }, 200)
  }
}
</script>
